{"version":3,"sources":["types.js","index.js"],"names":["typeList","FIRE","WATER","GRASS","ELECTRIC","ROCK","GROUND","NORMAL","ICE","FIGHTING","POISON","PSYCHIC","GHOST","BUG","FLYING","DRAGON","DARK","STEEL","FAIRY","ScoreKeeper","props","score","TypeButton","className","value","type","onClick","Quiz","useState","setScore","types","setTypes","error","setError","isLoaded","setIsLoaded","weakness","setWeakness","quizButtons","setQuizButtons","status","setStatus","bigFetch","a","newTypes","weaknesses","resistances","immunities","random1","generateRandom","random2","fetch","response1","json","doData","checkRandom","response2","removeResistances","removeImmunities","gatherTypes","length","handleError","num1","num2","res","typesArr","weakArr","resArr","immuArr","push","name","weaknessArr","includes","addToWeaknesses","damage_relations","double_damage_from","resistArr","addToResistances","half_damage_from","addToImmunities","no_damage_from","resists","forEach","resist","splice","indexOf","immunity","renderTypeButton","handleQuizLogic","count","rando","getType","Object","values","i","j","shuffleArray","e","target","newScore","updateScore","useEffect","message","num","Math","floor","random","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.f1fd10d4.chunk.js","sourcesContent":["const typeList = {\n    FIRE: \"fire\",\n    WATER: \"water\",\n    GRASS: \"grass\",\n    ELECTRIC: \"electric\",\n    ROCK: \"rock\",\n    GROUND: \"ground\",\n    NORMAL: \"normal\",\n    ICE: \"ice\",\n    FIGHTING: \"fighting\",\n    POISON: \"poison\",\n    PSYCHIC: \"psychic\",\n    GHOST: \"ghost\",\n    BUG: \"bug\",\n    FLYING: \"flying\",\n    DRAGON: \"dragon\",\n    DARK: \"dark\",\n    STEEL: \"steel\",\n    FAIRY: \"fairy\"\n}\n\nexport default typeList;","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport typeList from './types';\n\nfunction ScoreKeeper(props) {\n  return (\n    <div>\n      <h1>Correct Answers: {props.score}</h1>\n    </div>\n  )\n}\n\nfunction TypeButton(props) {\n  return (\n      <button className=\"typeButton\" value={props.type} onClick={props.onClick}>{props.type}</button>\n  )\n}\n\nfunction Quiz() {\n  const [score, setScore] = useState(0);\n  const [types, setTypes] = useState([]);\n  const [error, setError] = useState(null);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [weakness, setWeakness] = useState([]);\n  const [quizButtons, setQuizButtons] = useState([]);\n  const [status, setStatus] = useState(\"\");\n\n  async function bigFetch() {\n    let newTypes = [];\n    let weaknesses = [];\n    let resistances = [];\n    let immunities = [];\n    let random1 = generateRandom(18) + 1;\n    let random2 = generateRandom(18) + 1;\n    try {\n      const response1 = await fetch(`https://pokeapi.co/api/v2/type/${random1}/`);\n      const type1 = await response1.json();\n      doData(type1, newTypes, weaknesses, resistances, immunities);\n      if (checkRandom(random1, random2)) {\n        const response2 = await fetch(`https://pokeapi.co/api/v2/type/${random2}/`);\n        const type2 = await response2.json();\n        doData(type2, newTypes, weaknesses, resistances, immunities);\n        removeResistances(resistances, weaknesses);\n        removeImmunities(immunities, weaknesses);\n      }\n      setWeakness(weaknesses);\n      setTypes(newTypes);\n      gatherTypes(weaknesses[generateRandom(weaknesses.length)]);\n      setIsLoaded(true);\n    }\n    catch (error) {\n      handleError(error);\n    }\n  }\n\n  function handleError(error) {\n    if (error) {\n      setIsLoaded(true);\n      setError(error);\n    }\n  }\n\n  function checkRandom(num1, num2) {\n    return (num1 !== num2 ? true : false);\n  }\n\n  function doData(res, typesArr, weakArr, resArr, immuArr) {\n          typesArr.push(res.name);\n          addToWeaknesses(res.damage_relations.double_damage_from, weakArr);\n          addToResistances(res.damage_relations.half_damage_from, resArr);\n          addToImmunities(res.damage_relations.no_damage_from, immuArr)\n  }\n\n  function addToWeaknesses(res, weaknessArr) {\n    for(const type in res) {\n      if (!weaknessArr.includes(type)) {\n        weaknessArr.push(res[type].name);\n      }\n    }\n  }\n\n  function addToResistances(res, resistArr) {\n    for(const type in res) {\n      if (!resistArr.includes(type)) {\n        resistArr.push(res[type].name)\n      }\n    }\n  }\n\n  function addToImmunities(res, immuArr) {\n    for(const type in res) {\n      if (!immuArr.includes(type)) {\n        immuArr.push(res[type].name);\n      }\n    }\n  }\n\n  function removeResistances(resists, weaknessArr) {\n    resists.forEach(resist => {\n      if (weaknessArr.includes(resist)) {\n        weaknessArr.splice(weaknessArr.indexOf(resist), 1);\n      }\n    })\n  }\n\n  function removeImmunities(immunities, weaknesses) {\n    immunities.forEach(immunity => {\n      if (weaknesses.includes(immunity)) {\n        weaknesses.splice(weaknesses.indexOf(immunity), 1);\n      }\n    })\n  }\n  \n\n  // figure out some way to call fetchData on load\n  useEffect(() => {\n    bigFetch();\n  }, []);\n\n  function renderTypeButton(type) {\n    return (\n      <TypeButton type={type} onClick={handleQuizLogic}>{type}</TypeButton>\n    )\n  }\n\n  function gatherTypes(weakness) {\n    let types = [];\n    let count = 0;\n    while (count < 3) {\n      let rando = generateRandom(17) + 1;\n      let getType = Object.values(typeList)[rando];\n      if (getType !== weakness && !types.includes(getType)) {\n        types.push(getType);\n        count++;\n      }\n    }\n    types.push(weakness);\n    shuffleArray(types);\n    setQuizButtons(types);\n  }\n\n  function shuffleArray(a) {\n    for (let i = a.length - 1; i > 0; i--) {\n      const j = generateRandom(i+1);\n      [a[i], a[j]] = [a[j], a[i]];\n    }\n    return a;\n  }\n\n  function handleQuizLogic(e) {\n    if (weakness.includes(e.target.value)) {\n      bigFetch();\n      updateScore();\n    } else {\n      bigFetch();\n    }\n  }\n\n  function updateScore() {\n    let newScore = score + 1;\n    setScore(newScore);\n    if (newScore >= 10) {\n      setStatus(\"You have completed the quiz!\");\n    }\n  }\n\n  if (error) {\n    return <div>Error: {error.message}</div>\n  } else if (!isLoaded) {\n    return <div>Loading...</div>\n  } else {\n  return (\n    <div className=\"container\">\n      <div>{status}</div>\n      <h1>Your target type: {types[0]} / {types[1]}</h1>\n      <ScoreKeeper score={score}/>\n      <div>Select the type your target is weak to!</div>\n      <div className=\"buttons\">\n        {renderTypeButton(quizButtons[0])}\n        {renderTypeButton(quizButtons[1])}\n        {renderTypeButton(quizButtons[2])}\n        {renderTypeButton(quizButtons[3])}\n      </div>\n    </div>\n  )}\n}\n\nReactDOM.render(\n  <React.StrictMode>\n    <Quiz />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nfunction generateRandom(num) {\n  return Math.floor(Math.random() * num);\n}"],"sourceRoot":""}